<!DOCTYPE html>
<html>
<head>
    <title>Scout Policy Knowledge Search</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .search-form { margin-bottom: 30px; }
        .best-match { background: #f8ffd6; border: 2px solid #88b938; padding: 18px; margin-bottom: 24px; }
        .other-matches { background: #f5f5f5; padding: 12px; border-radius: 5px; }
        hr { border: none; border-top: 1px solid #ccc; }
    </style>
</head>
<body>
    <h1>Scout Policy & Logic Search</h1>
    <form method="get" class="search-form">
        <input type="text" name="q" value="{{ query or '' }}" style="width: 340px; font-size: 1.2em;" placeholder="Enter search term..." autofocus required>
        <button type="submit" style="font-size:1.1em;">ðŸ”Ž Search</button>
    </form>

    {% if error %}
        <div style="color: red;"><b>{{ error }}</b></div>
    {% endif %}

    {% if best %}
        <div class="best-match">
            <b>ðŸ”Ž BEST MATCH:</b>
            <div><b>{{ best.trigger }}</b></div>
            <div>{{ best.answer|safe }}</div>
            <div><em>[{{ best.policy }}]</em></div>
        </div>
    {% endif %}

    {% if others and others|length > 0 %}
        <div class="other-matches">
            <b>Other partial matches:</b>
            <ul>
            {% for r in others %}
                <li>
                    <b>{{ r.trigger }}</b><br>
                    {{ r.answer|safe }}<br>
                    <em>[{{ r.policy }}]</em>
                </li>
            {% endfor %}
            </ul>
        </div>
    {% endif %}
</body>
</html>

